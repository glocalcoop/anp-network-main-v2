/**
 * BuddyPress Styles
 */

body.buddypress {

    .page-title {
        margin-bottom: 35px;
    }

    h1 {
        text-align: center;
    }

    @include breakpoint(md) {
        h1 {
            text-align: left;
        }
    }

}

#buddypress,
#bbpress-forums {

    form {
        background-color: $color__background-panel;
        padding: .5em;
    }

    ul {
        @include no-bullets;
    }

    #item-header {
        @include clearfix;
        margin-bottom: .5em;
    }

    .item-list-tabs {
        width: 100%;

        ul {
            @include no-bullets;

            li {
                padding: .5em .125em;
                background-color: rgba($color__black,.2);
                color: text-color( rgba($color__black,.2) );
                text-align: center;
                @include font-size($small);

                &:hover,
                &:focus,
                &.active,
                &.current,
                &.selected {
                    background-color: rgba($color__black,.4);
                    color: text-color( rgba($color__black,.4) );
                }

                &:not(:last-child) {
                    border-bottom: 1px solid rgba($color__black,.2);
                }

                a {
                    display: block;
                    color: $color__text-nav-alt;

                    &:hover,
                    &:focus {
                        color: $color__text-nav-hover-alt;
                    }

                    span {
                        @include badge;
                    }
                }

                input {
                    @include font-size($small);
                }
            }

        }

        li {
            @include font-size($smaller);
        }

        @include breakpoint(sm) {

            li {
                @include font-size($small);
            }
        }

        @include breakpoint(md) {

            ul {
                display: flex;
                flex-direction: row;
                max-width: 100%;
                margin: 0;
                padding: 0;

                li {
                    list-style: none;
                    flex-grow: 1;
                    border-bottom: none;

                    &:not(:last-child) {
                        border-bottom: none;
                        border-right: 1px solid rgba($color__black,.2);
                    }
                }
            }

            li {
                @include font-size($h6);
            }
        }

        &#subnav {
            border-bottom: 1px solid $color__border-nav-alt;

            li {
                background-color: $color__background-widget-alt;
                color: $color__text-nav;

                &.active,
                &.selected,
                &:hover,
                &:focus {
                    background-color: rgba($color__black,.2);
                    color: $color__text-nav-hover-alt;
                }

                a {
                    color: $color__text-nav;
                }

                &#activity-filter-select {
                    text-align: center;
                }
            }
        }
    }

    .item-body {
        margin-top: .5em;
    }

    .item-meta {
        color: $color__text-meta;
    }

    // Lists
    .item-list {
        @extend .media-list;

        .activity-comments {
            ul {
               padding-left: 1.5em; 
            }
        }

        li {
            @extend .media;
            padding-top: .5em;

            .item-avatar,
            .activity-avatar,
            .acomment-avatar  {
                @extend .media-left;
                min-width: 50px;
            }
            .item,
            .activity-content,
            .activity-comment-content,
            .acomment-entry {
                @extend .media-body;
            }
            .action {
                @extend .media-right;
                min-width: 20%;
            }

            .activity-comments > ul {
                margin-top: .5em;
            }

            .activity-avatar,
            .acomment-avatar {
                min-width: 50px;
            }

            .item-title a {
                font-weight: 500;
            }

            .acomment-entry {
                padding-top: .25em;
                padding-bottom: .25em;
            }

            .activity {}

            li {
                background-color: rgba($color__primary, .05);
                padding: .25em;
            }
        }

        &> li:not(:first-child) {
            border-top: 1px solid $color__border-nav-alt;
        }

        @media screen and (max-width: $sm-screen) {
            li {
                display: block;

                .item-avatar,
                .activity-avatar,
                .acomment-avatar,
                .item,
                .activity-content,
                .activity-comment-content,
                .action  {
                    display: block;
                    width: 100%;
                }

                .item-avatar,
                .activity-avatar,
                .acomment-avatar {
                    text-align: center;
                }

                @include breakpoint(md) {
                    .item-avatar,
                    .activity-avatar,
                    .acomment-avatar {
                        text-align: left;
                    }
                }

            }
        }
    }

    // Sections
    .forums {
        @include no-bullets;

        .bbp-header {}

        .bbp-body {

            .entry {
                @extend %clearfix;
            }

            .bbp-admin-links {
                @extend .pull-right;
            }
            .bbp-reply-header {
                padding: .5em .25em;
            }

            .bbp-reply-author {
                @include make-sm-column(2);

                @include breakpoint(sm) {
                    padding-left: 0;
                }
            }
            .bbp-reply-content {
                margin-left: 0;
                @include make-sm-column(10);
                margin-top: .25em;
            }


        }

        .bbp-footer {
            @extend .panel-footer;
        }
    }

    #item-header-cover-image {

        #item-header-avatar,
        #item-header-content,
        #item-actions {
            text-align: center;

        }

        @include breakpoint(md) {
            #item-header-avatar,
            #item-header-content,
            #item-actions {
                @include font-size($h6);
            }
        }

        #item-header-avatar {}
        #item-header-content {}
        #item-actions {

            .group-members {
                @include make-md-column(6);
            }

            h3 {
                margin-top: 0;
                @include font-size($small);

                @include breakpoint(md) {  
                    @include font-size($h6);
                }

            }
            ul {
                @include inline-list;
                li {
                    padding: .25em;
                }

            }
        }

        #item-meta {
            .activity {
                @extend %label;
                @extend %label-default;
            }

            .activity + p {
                margin-top: .5em;
            }
        }
    }

    // Tables
    table {
        @extend .table;
        @extend .table-striped;
        @extend .table-hover;

        border-top: 1px solid $color__border-nav;

        tr {
            border-top: none;
            border-bottom: 1px solid $color__border-nav;

            td {
                border: none;

                &.label {
                    display: block;
                    border: none;
                    background-color: lighten($color__background-nav-alt, 40%);
                    @include font-size($h6);
                    color: $color__white;
                    border-radius: $element__border-radius-base;
                }

                p {
                    margin-bottom: 0;
                    padding-bottom: 0;
                }
            }
        }

        tbody > tr > td {
            border: none;
        }

    }

    // Pagination
    .bbp-pagination-links {}
    .pagination {
        display: block;
    }


    // Images
    img {
        &.avatar {
            @extend .img-circle;
            padding: 2px;
            margin-right: .25em;
            margin-left: .25em;
            border: 1px solid $color__background-hr-alt;
            background-color: $color__white;
        }
    }


    #whats-new-avatar,
    .activity-greeting {
        text-align: center;
    }

    @include breakpoint(md) {
        #whats-new-avatar,
        .activity-greeting {
            text-align: left;
        }
    }

    #whats-new-avatar {
        @include breakpoint(md) {
            img {
                float: left;
                margin-right: .5em;
            }
        }
    }

    // Labels
    .highlight {
        @extend %label;
        @extend %label-info;
    }

    .bbp-topic-tags {
        a {
            @extend %label;
            @extend %label-default;
        }
    }

    .tags-cell {
        a {
            @extend %label;
            @extend %label-default;
        }
    }

    .bbp-reply-permalink,
    span.time-since {
        @extend %label;
        @extend %label-default;
    }

    // Badges
    a {
        span {
            @include badge;

        }
    }

    // Buttons
    .row-actions,
    .activity-meta,
    .acomment-options,
    .action {
        a {

            &[href$="document-title/"] {
                @include button-icon($color: $color__mid-light-grey, $icon: eye, $font-size: $small, $border-color: $color__light-grey, $border-radius: $element__border-radius-small, $background-color: $color__white);
            }
            &[href$="edit/"] {
                @include button-icon($color: $color__mid-light-grey, $icon: pencil, $font-size: $small, $border-color: $color__light-grey, $border-radius: $element__border-radius-small, $background-color: $color__white);
            }
            &[href$="history"] {
                @include button-icon($color: $color__mid-light-grey, $icon: history, $font-size: $small, $border-color: $color__light-grey, $border-radius: $element__border-radius-small, $background-color: $color__white);
            }
            &.leave-group {
                @include button-icon($color: $color__mid-light-grey, $icon: sign-out, $font-size: $small, $border-color: $color__light-grey, $border-radius: $element__border-radius-small, $background-color: $color__white);
            }
            &.acomment-reply {
                @include button-icon($color: $color__mid-light-grey, $icon: reply, $font-size: $small, $border-color: $color__light-grey, $border-radius: $element__border-radius-small, $background-color: $color__white);
            }
            &.fav {
                @include button-icon($color: $color__mid-light-grey, $icon: heart-o, $font-size: $small, $border-color: $color__light-grey, $border-radius: $element__border-radius-small, $background-color: $color__white);
            }
            &.unfav {
                @include button-icon($color: $color__danger, $icon: heart, $font-size: $small, $border-color: $color__light-grey, $border-radius: $element__border-radius-small, $background-color: $color__white);
            }
            &.delete-activity,
            &.acomment-delete {
                @include button-icon($color: $color__mid-light-grey, $icon: trash, $font-size: $small, $border-color: $color__light-grey, $border-radius: $element__border-radius-small, $background-color: $color__white);
            }
            &.unlink-from-group {
                @include button-icon($color: $color__mid-light-grey, $icon: chain-broken, $font-size: $small, $border-color: $color__light-grey, $border-radius: $element__border-radius-small, $background-color: $color__white);
            }
            &.leave-group {
                @include button-icon($color: $color__mid-light-grey, $icon: sign-out, $font-size: $small, $border-color: $color__light-grey, $border-radius: $element__border-radius-small, $background-color: $color__white);
            }
            &.join-group {
                @include button-icon($color: $color__mid-light-grey, $icon: sign-in, $font-size: $small, $border-color: $color__light-grey, $border-radius: $element__border-radius-small, $background-color: $color__white);
            }
            &.group-subscription-options-link {
                @include button-icon($color: $color__mid-light-grey, $icon: envelope, $font-size: $small, $border-color: $color__light-grey, $border-radius: $element__border-radius-small, $background-color: $color__white);
            }
            &.friendship-button {
                &.add {
                    @include button-icon($color: $color__mid-light-grey, $icon: user-plus, $font-size: $small, $border-color: $color__light-grey, $border-radius: $element__border-radius-small, $background-color: $color__white);
                }
                &.requested {
                    @include button-icon($color: $color__mid-light-grey, $icon: hourglass-o, $font-size: $small, $border-color: $color__light-grey, $border-radius: $element__border-radius-small, $background-color: $color__white); 
                }
                &.remove {
                    @include button-icon($color: $color__mid-light-grey, $icon: user-times, $font-size: $small, $border-color: $color__light-grey, $border-radius: $element__border-radius-small, $background-color: $color__white); 
                }
            }
            &.mention {
                @include button-icon($color: $color__mid-light-grey, $icon: bullhorn, $font-size: $small, $border-color: $color__light-grey, $border-radius: $element__border-radius-small, $background-color: $color__white); 
            }
            &.send-message {
                @include button-icon($color: $color__mid-light-grey, $icon: comment, $font-size: $small, $border-color: $color__light-grey, $border-radius: $element__border-radius-small, $background-color: $color__white);
            }

            // Comment Badge
            span {
                @include badge;
            }
        }

        #user_switching_switch_to a {
            @include button-icon($color: $color__mid-light-grey, $icon: random, $font-size: $small, $border-color: $color__light-grey, $border-radius: $element__border-radius-small, $background-color: $color__white); 
        }
    }

    #favorite-toggle {
        a {
            @include icon-font(heart-o, before, $color__text-light);

        }
        .is-favorite {
            a {
                @include icon-font(heart, before, $color__danger);
            }
        }
    }

    #bp-create-doc-button {
        @include button-icon($icon: plus, $font-size: $small, $border-color: transparent);
    }

    #members-list,
    #members-dir-list {
        .small {
            display: block;
            &> a {
                &.member-ban {
                    @include button-icon($color: $color__mid-light-grey, $icon: ban, $font-size: $small, $border-color: $color__light-grey, $border-radius: $element__border-radius-small);
                }
                &.member-promote-to-mod,
                &.member-promote-to-admin {
                    @include button-icon($color: $color__mid-light-grey, $icon: level-up, $font-size: $small, $border-color: $color__light-grey, $border-radius: $element__border-radius-small);
                }
                &.confirm {
                    @include button-icon($color: $color__mid-light-grey, $icon: times, $font-size: $small, $border-color: $color__light-grey, $border-radius: $element__border-radius-small);
                }
                
            }
        }

        .item-header-content {
            text-align: center;

            @include breakpoint(md) {
                text-align: left;
            }

            .item-title {
                font-weight: bold;
            }

            .activity {
                display: inline-block;
                @extend %label;
                @extend %label-default;

            }

            .is-online .activity {
                @extend %label-warning;
            }
            .is-current-user .activity {
                @extend %label-info;
            }
        }
    }

    // Alerts
    .info p {
        @extend .alert;
        @extend .alert-info;
    }

    .item-list {

        .group-subscription-options {
            li {
                background-color: $color__background;
            }

            button a {
                color: $color__white;
            }
        }
    }

}

.bp-user {

    // Events
    &.events {
        .bpeo-ical-download {
            ul {
                @include no-bullets;
            }

            .bpeo-ical-link {
                @include icon-font(calendar, before);
            }
        }
    }
}

#send-invite-form {
    .submit {
        float: left;
        margin-left: 4%;
    }
}

.buddypress-attribution a {}


// Widgets

.widget.buddypress {

    text-align: center;
    
    .item-options a {
        display: inline-block;
    }

    .item-title
    .item-meta {
        display: block;
    }

    .item-avatar {
        img {
            width: 50px;
            height: 50px;
        }
    }

    img.avatar {
        @extend .img-circle;
        padding: 2px;
        margin-right: .25em;
        margin-left: .25em;
        background-color: $color__white;
        border: 1px solid $color__background-hr-alt;
    }

    .item-meta {
        text-weight: 300;
    }

    @include breakpoint(md) {

        text-align: left;

        li {
            @include clearfix;
        }

        .item-avatar {
            float: left;
        }
        
    }
}


